<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="quadro.css">
	<script type="text/javascript" src="utils.js"></script>
	<script type="text/javascript" src="point.js"></script>
	<script type="text/javascript" src="picture.js"></script>
</head>
<body>
	<h1>Quadro infinito</h1>
	<div id="control-panel">
		<button id="stop-button" class="button-default">STOP</button>
		<button id="start-button" class="button-default" style="display: none;">START</button>
	</div>
	<canvas id="frame" width="640" height="480">
	</canvas>
	<span id="resize-canvas" class="glyphicon glyphicon-resize-full button-default"></span>
	<script type="text/javascript">
		(function () {		
			var frame = document.getElementById('frame');
			var picture = new Picture(frame);
		    var stopBtn = document.getElementById('stop-button');
			var startBtn = document.getElementById('start-button');
			stopBtn.onclick = () => {
				picture.isPlaying = false;
				stopBtn.style.display = 'none';
				startBtn.style.display = 'block';
			};
			startBtn.onclick = () => {
				picture.isPlaying = true;
				startBtn.style.display = 'none';
				stopBtn.style.display = 'block';
			};
			var resizeBtn = document.getElementById('resize-canvas');			
			resizeBtn.ontouchmove = (e) => {
				var currentX = e.touches[0].clientX;
				var currentY = e.touches[0].clientY;
				resizeBtn.style.left = currentX + 'px';
				resizeBtn.style.top = currentY + 'px';
			};
		})();
	</script>
</body>